@model IEnumerable<Easy.Models.Compromissos>

@{
    ViewBag.Title = "Index";

    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Gerenciamento de Compromissos";
    string classe = "";
    int valida = 0;

    if (Session["Add"] != null)
    {
        valida = int.Parse(Session["Add"].ToString());
    }

    Session.Remove("Add");
}

<h2>Gerenciamento de Compromissos</h2>
<a href="~/Compromissos/Add" style="margin-left:90%" class="btn btn-fab btn-primary btn-raised icon-material-add" title="Adicionar Compromisso"></a>
<table class ="table table-striped table-hover well bs-component">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Titulo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Descricao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DataInicio)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DataTermino)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Titulo)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Descricao)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DataInicio)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DataTermino)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status)
        </td>
        <td>
           <form action="~/Compromissos/EditarCompromisso" method="post">
               @Html.Hidden("id", item.IdComp)
                <div class="btn-group color_button" style="margin-left:0%">
                    <button type="submit" class="btn btn-default"><i class="texto2 icon-material-create"></i></button>
                </div>
           </form>
        </td>
        <td>
           <form action="~/Compromissos/EditarCompromisso" method="post">
               @Html.Hidden("id", item.IdComp)
                <div class="btn-group color_button" style="margin-left:0%">
                    <button type="submit" class="btn btn-default"><i class="texto2 icon-material-done"></i></button>
                </div>
           </form>
        </td>
    </tr>
}

</table>

<script>

    if($("#hidValida").val() == 1)
    {
        $(document).ready(function () {
            $.snackbar({ content: "O Compromisso foi Cadastrado com Sucesso. Verifique as informações.", timeout: 8000 });
        });
    }

    $(document).ready(function () {
        $(".HideComentario").hide();
    });;

    $("#btCom").click(function () {
        var x = $("#btCom").val();
        $("#"+x).slideToggle();
    });

    $('#myTab a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })

</script>

@{
    
    Session["Add"] = 0;
}

