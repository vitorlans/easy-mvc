@model IEnumerable<Easy.Models.Tarefas>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Gerenciamento de Tarefas";
    string classe = "";
    int valida = 0;
        
    if(Session["AddTarefa"] != null)
    {
         valida = int.Parse(Session["AddTarefa"].ToString());
    }

    Session.Clear();
}

<input id="hidValida" value="@valida" type="hidden"/>
<h2>Gerenciamento de Tarefas</h2>
    <a href="~/Tarefas/AdicionarTarefa" style="margin-left:90%" class="btn btn-fab btn-primary btn-raised icon-material-add"></a>
<br />
<br />
<div class="bs-docs-section">
<div class="row" style="">
<div class="col-lg-12">
<table class ="table table-striped table-hover well bs-component">
    <tr>
        <th>

        </th>
        <th>
            <br />
        </th>
        <!--<th>
            Html.DisplayNameFor(model => model.DtInicio)
        </th>
        <th>
            Html.DisplayNameFor(model => model.DtFim)
        </th>-->
        <th></th>
    </tr>

@foreach (var item in Model) {
        
    DateTime dt = DateTime.Now;

    if (DateTime.Parse(item.DtFim) < dt)
    {
        classe = "warning";
    }
    else
    {
        classe = "";
    }

    <tr class ="">
        <td>
            <div class="checkbox">
                <label>
                    <input type="checkbox">
                </label>
            </div>
        </td>
        <td>
            <div class=" well">
                    @Html.DisplayFor(modelItem => item.Descricao)
            </div>
        </td>
        <td>
           <form action="~/Tarefas/EditTarefa" method="post">
               @Html.Hidden("id", item.IdTarefa)
                <div class="btn-group color_button" style="margin-left:0%">
                    <button type="submit" class="btn btn-default"><i class="texto2 icon-material-create"></i></button>
                </div>
           </form>
        </td>
        <!--<td>
            Html.DisplayFor(modelItem => item.DtInicio)
        </td>
        <td>
            Html.DisplayFor(modelItem => item.DtFim)
        </td>-->
        <!--<td>
            <div class="btn-group" style="margin-left:25%">
                <button type="button" class="btn btn-default"><i class="icon-material-create"></i></button>
                <button type="button" class="btn btn-default"><i class="icon-material-clear"></i></button>
            </div>

            <!--Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
        </td>-->

    </tr>
}

</table>
</div>
</div>
</div>

<script>

    if($("#hidValida").val() == 1)
    {
        $(document).ready(function () {
            $.snackbar({ content: "A Tarefa foi Cadastrada com Sucesso. Verifique as informações.", timeout: 8000 });
        });
    }

    $(document).ready(function () {
        $(".HideComentario").hide();
    });;

    $("#btCom").click(function () {
        var x = $("#btCom").val();
        $("#"+x).slideToggle();
    });

    $('#myTab a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })

</script>

@{
    
    Session["AddTarefa"] = 0;
}